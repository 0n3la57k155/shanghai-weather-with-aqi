<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="X-UA-Compatible" content="IE=edge">
  <title>Shanghai Air Quality Map</title>
  <meta name="description" content="Shanghai Air Quality Map">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="anthor" content="ky0ncheng">
  <meta name="theme-color" content="#000000">
  <meta name="google" content="notranslate">
  <!--<meta http-equiv="refresh" content="60;url=https://sh.ky0n.xyz/map">-->
  <link rel="shortcut icon" href="https://ky0n.xyz/css/logo/favicon-96x96.png" type="image/png" />
  <link rel="icon" sizes="192x192" href="https://ky0n.xyz/css/logo/favicon-192x192.png" />
  <link rel="stylesheet" href="https://sh.ky0n.xyz/css/apollo.css">
  <link rel="stylesheet" href="https://fonts.proxy.ustclug.org/css?family=Source+Sans+Pro:400,600" type="text/css">
  <script>
    var url = window.location.href;
    if (url.indexOf("https") < 0) {
      url = url.replace("http:", "https:");
      window.location.replace(url);
    }
  </script>
</head>

<body>
  <!--<div id='map' style='height:100%;width:100%' />
  <script  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDZeU2BLWXsli47Dy8ELkMUNBQBK3Yg2Zk"></script>
  <script src="https://maps.google.cn/maps/api/js?key=AIzaSyDZeU2BLWXsli47Dy8ELkMUNBQBK3Yg2Zk&language=en" type="text/javascript"></script>
  <script>
    var map = new google.maps.Map(document.getElementById('map'), {
      center: new google.maps.LatLng(31.212, 121.46),
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      zoom: 9
    });

    var t = new Date().getTime();
    var waqiMapOverlay = new google.maps.ImageMapType({
      getTileUrl: function (coord, zoom) {
        return 'https://tiles.aqicn.org/tiles/usepa-aqi/' + zoom + "/" + coord.x + "/" + coord.y +
          ".png?token=d7031fe0ef3a532d9d9c7f70507fe8a4ce4c4c3b";
      },
      name: "Air  Quality",
    });

    map.overlayMapTypes.insertAt(0, waqiMapOverlay);
  </script>-->
  <div id='map' style='height:100%;width:100%' />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@0.7.7/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@0.7.7/dist/leaflet.js"></script>
  <script>
    var OSM_URL = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
    var OSM_ATTRIB = '&copy; <a  href="http://openstreetmap.org/copyright">OpenStreetMap</a>';
    var osmLayer = L.tileLayer(OSM_URL, {
      attribution: OSM_ATTRIB
    });

    var WAQI_URL =
      "https://tiles.aqicn.org/tiles/usepa-aqi/{z}/{x}/{y}.png?token=d7031fe0ef3a532d9d9c7f70507fe8a4ce4c4c3b";
    var WAQI_ATTR = '<a  href="https://aqicn.org">AQICN</a>';
    var waqiLayer = L.tileLayer(WAQI_URL, {
      attribution: WAQI_ATTR
    });

    var map = L.map('map').setView([31.212, 121.46], 11);
    map.addLayer(osmLayer).addLayer(waqiLayer);
  </script>
  </div>
  <center>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-70500040-5', 'auto');
  ga('send', 'pageview');

</script>
</body>

</html>